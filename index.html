<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaiseki Shunei | Accueil</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@200;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="page-accueil">

    <div id="side-menu" class="side-panel">
        <div class="menu-content-wrapper">
            <div class="menu-links">
                <a href="javascript:void(0)" onclick="openReservationFromMenu()">RÉSERVER</a>
                <a href="#restaurant" onclick="toggleMenu()">LE RESTAURANT</a>
                <a href="#chefs" onclick="toggleMenu()">LES CHEFS</a>
                <a href="#experience" onclick="toggleMenu()">L'EXPÉRIENCE</a>
                <a href="#menu" onclick="toggleMenu()">LE MENU</a>
                <a href="#informations" onclick="toggleMenu()">INFORMATIONS</a>
            </div>
        </div>
        <div class="menu-footer">
            <div class="footer-main-container">
                <div class="footer-admin-top">
                    <a href="javascript:void(0)" class="admin-link" onclick="accesSecurise()">ADMINISTRATION</a>
                </div>
                <div class="footer-main-info">
                    <img src="img/instagram-icon.png" alt="Instagram" class="insta-logo">
                    <span class="separator">|</span>
                    <div class="lang-switcher-menu">FR / EN</div>
                </div>
            </div>
        </div>
    </div>

    <header class="main-header">
        <div class="header-left">
            <div class="logo-and-menu">
                <div class="logo-kanji"><span>春</span><span>栄</span><span>製</span></div>
                <div class="menu-trigger" onclick="toggleMenu()">
                    <div class="hamburger-icon"><span></span><span></span><span></span></div>
                    <span class="menu-text">MENU</span>
                </div>
            </div>
            <div class="nav-branding"><h1 class="brand-name">KAISEKI SHUNEI</h1></div>
        </div>
        <div class="header-right">
            <div id="logout-btn" onclick="deconnexion()" style="display: none; cursor: pointer; color: var(--gold); font-size: 0.7rem; letter-spacing: 2px; margin-right: 20px; border-bottom: 1px solid var(--gold);">DÉCONNEXION</div>
            <div class="profile-trigger" onclick="toggleReservation()"><img src="img/profil-vide.png" alt="Profil" class="profile-icon-nav"></div>
            <a href="javascript:void(0)" class="btn-reservation" onclick="toggleReservation()">COMMANDER</a>
        </div>
    </header>

    <section class="hero-section">
        <div class="hero-bg-image"></div>
        <div class="hero-content">
            <h2 class="fade-in">L'Art de la Perfection</h2>
            <div class="search-box">
                <input type="text" placeholder="Rechercher une saveur..." class="input-search">
            </div>
        </div>
    </section>

    <div id="reservation-panel" class="side-panel-right">
        <div class="close-reservation" onclick="toggleReservation()">✕</div>
        <div class="auth-container">
            <div id="login-form" class="auth-box">
                <h3>CONNEXION</h3>
                <p class="auth-subtitle">Accédez à votre espace Kaiseki</p>
                <form onsubmit="simulerConnexion(event)">
                    <input type="email" placeholder="Email" class="input-auth" required>
                    <input type="password" placeholder="Mot de passe" class="input-auth" required>
                    <button type="submit" class="btn-submit">SE CONNECTER</button>
                </form>
                <p class="switch-auth">Pas encore de compte ? <span onclick="openFullRegister()" style="cursor:pointer; text-decoration:underline;">S'inscrire</span></p>
            </div>
        </div>
    </div>

    <div id="full-register-overlay" class="register-full-screen">
        <div class="close-full-register" onclick="closeFullRegister()">✕</div>
        <div class="register-content">
            <div class="register-image-side"></div>
            <div class="register-form-side">
                <div class="form-inner">
                    <span class="section-subtitle">BIENVENUE CHEZ SHUNEI</span>
                    <h3>CRÉER UN COMPTE</h3>
                    <form id="main-register-form" onsubmit="validerEtInscrire(event)">
                        <div class="input-row-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <input type="text" id="reg-fname" placeholder="Prénom" class="input-auth" required>
                            <input type="text" id="reg-lname" placeholder="Nom" class="input-auth" required>
                        </div>
                        <input type="email" id="reg-email" placeholder="Email" class="input-auth" required>
                        <input type="tel" id="reg-phone" placeholder="Téléphone" class="input-auth" required>
                        <input type="text" id="reg-address" placeholder="Adresse complète" class="input-auth" required>
                        <div class="input-row-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <input type="text" id="reg-inter" placeholder="Interphone" class="input-auth">
                            <input type="text" id="reg-floor" placeholder="Étage" class="input-auth">
                        </div>
                        <input type="password" id="reg-pass" placeholder="Mot de passe (8 car. min)" class="input-auth" required>
                        <button type="submit" class="btn-reservation" style="width: 100%; margin-top: 20px;">CONFIRMER L'INSCRIPTION</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <section id="restaurant" class="scroll-section restaurant-view">
        <div class="restaurant-bg"></div>
        <div class="blue-overlay"></div> 
        <div class="restaurant-content-wrapper">
            <div class="close-gallery-btn" onclick="closeGallery()">✕</div>
            <h2 class="center-title">LE RESTAURANT</h2>
            <div class="arrow-container left" onclick="changeImage(-1)"><img src="img/retour.png" class="arrow-icon"></div>
            <div id="viewer-container" class="viewer-container"><img src="img/resto-1.png" id="main-photo"></div>
            <div class="arrow-container right" onclick="changeImage(1)"><img src="img/retour.png" class="arrow-icon mirror"></div>
        </div>
    </section>

    <section id="chefs" class="scroll-section chefs-view">
        <div class="chefs-container">
            <div class="chef-card">
                <div class="chef-img-wrapper"><img src="img/chef-1.jpeg" class="chef-portrait"></div>
                <div class="chef-info"><span class="chef-role">MAÎTRE DU FEU</span><h3>KENJI</h3></div>
            </div>
            <div class="chefs-divider"><div class="line"></div><div class="kanji-split">絆</div><div class="line"></div></div>
            <div class="chef-card">
                <div class="chef-img-wrapper"><img src="img/chef-2.jpeg" class="chef-portrait"></div>
                <div class="chef-info"><span class="chef-role">ÂME CRÉATRICE</span><h3>AIKO</h3></div>
            </div>
        </div>
    </section>

    <section id="experience" class="scroll-section experience-view">
        <div class="experience-full-text">
            <span class="section-subtitle">L'UNION DES CULTURES</span>
            <h2>L'Équilibre Absolu</h2>
            <div class="exp-quote-large">"Le sushi est un pont entre nos deux mondes."</div>
        </div>
    </section>

    <section id="menu" class="scroll-section menu-view-minimal">
        <div class="menu-bg-overlay"></div>
        <a href="carte.html" target="_blank" class="menu-compact-box">
            <span class="section-subtitle">DÉCOUVRIR</span>
            <h2 class="menu-title-small">LA CARTE</h2>
            <div class="line-gold"></div>
            <p class="click-info">OUVRIR DANS UN NOUVEL ONGLET</p>
        </a>
    </section>

    <section id="informations" class="scroll-section info-view">
        <div class="info-wrapper">
            <div class="info-block">
                <span class="section-subtitle">NOUS TROUVER</span>
                <h2>CONTACT</h2>
                <div class="contact-details">
                    <div class="detail-item">
                        <p class="label">ADRESSE</p>
                        <p>3 Rue André del Sarte, 75018 Paris</p>
                    </div>
                    <div class="detail-item">
                        <p class="label">HORAIRES</p>
                        <p>Mardi — Samedi : 19:00 - 22:30</p>
                    </div>
                    <div class="detail-item">
                        <p class="label">RÉSERVATIONS</p>
                        <p><a href="tel:+33142557111" class="phone-link" style="color: inherit; text-decoration: none;">01 42 55 71 11</a></p>
                    </div>
                </div>
            </div>

            <div id="review-container" class="review-zone">
                <div id="review-auth-alert" class="auth-alert-box">
                    <p style="font-size: 1.2rem; margin-bottom: 20px; letter-spacing: 2px;">L'ACCÈS AUX AVIS EST RÉSERVÉ AUX MEMBRES</p>
                    <button class="btn-auth-red" onclick="toggleReservation()">SE CONNECTER / S'INSCRIRE</button>
                </div>

                <div id="review-form-active" style="display: none; text-align: center;">
                    <span class="section-subtitle">VOTRE EXPÉRIENCE</span>
                    <h2 style="font-family: 'Playfair Display'; font-size: 2.5rem; margin-bottom: 20px;">LAISSER UN AVIS</h2>
                    
                    <div class="rating-stars" style="font-size: 2.8rem; color: var(--gold); margin-bottom: 25px; cursor: pointer;">
                        </div>
                    
                    <textarea placeholder="Partagez votre ressenti sur l'art de Shunei..." class="input-review" style="width: 100%; max-width: 600px; height: 120px; background: rgba(255,255,255,0.05); border: 1px solid var(--gold); color: white; padding: 20px; outline: none;"></textarea>
                    <br>
                    <button class="btn-reservation" onclick="publierAvis()" style="margin-top: 30px;">PUBLIER MON AVIS</button>
                </div>
            </div>

            <footer class="site-footer">
                <p>© 2026 KAISEKI SHUNEI — TOUS DROITS RÉSERVÉS</p>
                <div class="footer-bottom-line"></div>
            </footer>
        </div>
    </section>

    <script>
        let selectedRating = 0;
        let warningCount = 0;
        let currentImg = 1;

        // --- SESSION CLIENT AU CHARGEMENT ---
        window.onload = function() {
            const savedName = localStorage.getItem('userName');
            const brandTitle = document.querySelector('.brand-name');
            const logoutBtn = document.getElementById('logout-btn');
            const reviewForm = document.getElementById('review-form-active');
            const reviewAlert = document.getElementById('review-auth-alert');
            
            if (savedName && brandTitle) {
                brandTitle.style.position = "relative";
                brandTitle.innerHTML = `
                    <div style="position: absolute; top: -25px; left: 0; white-space: nowrap; line-height: 1.2;">
                        <div style="font-size: 0.8rem; letter-spacing: 5px; opacity: 0.8; font-weight: 300;">BIENVENUE</div>
                        <div style="color: var(--gold); font-size: 1.4rem; font-weight: 700; letter-spacing: 2px;">
                            ${savedName.toUpperCase()}
                        </div>
                    </div>
                    <span style="visibility: hidden;">KAISEKI SHUNEI</span> `;
                
                if (logoutBtn) logoutBtn.style.display = "block";
                if (reviewAlert) reviewAlert.style.display = "none";
                if (reviewForm) {
                    reviewForm.style.display = "block";
                    initStars();
                }
            }
        };

        // --- NAVIGATION ---
        function toggleMenu() { document.getElementById("side-menu").classList.toggle("open"); document.body.classList.toggle("open-nav"); }
        function toggleReservation() { document.getElementById("reservation-panel").classList.toggle("open"); }
        function openReservationFromMenu() { toggleMenu(); setTimeout(toggleReservation, 500); }

        // --- INSCRIPTION PLEIN ÉCRAN ---
        function openFullRegister() {
            if(document.getElementById("reservation-panel").classList.contains("open")) toggleReservation();
            const overlay = document.getElementById('full-register-overlay');
            overlay.style.display = 'block';
            setTimeout(() => overlay.classList.add('active'), 10);
            document.body.style.overflow = "hidden";
        }
        function closeFullRegister() {
            const overlay = document.getElementById('full-register-overlay');
            overlay.classList.remove('active');
            setTimeout(() => { overlay.style.display = 'none'; document.body.style.overflow = "auto"; }, 500);
        }

        // --- AUTHENTIFICATION ---
        function simulerConnexion(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value.toLowerCase();
            localStorage.setItem('userName', email.split('@')[0]);
            if (email.endsWith("@kaiseki")) window.location.href = "livraison.html";
            else window.location.reload();
        }

        function validerEtInscrire(event) {
            event.preventDefault();
            const email = document.getElementById('reg-email').value.toLowerCase();
            const phone = document.getElementById('reg-phone').value;
            const fname = document.getElementById('reg-fname').value;
            const pass = document.getElementById('reg-pass').value;

            if (phone.replace(/\s/g, '').length < 10) return alert("Téléphone invalide.");
            if (pass.length < 8) return alert("Mot de passe : 8 caractères minimum.");

            localStorage.setItem('userName', fname);
            alert("Bienvenue chez Shunei, " + fname.toUpperCase());
            if (email.endsWith("@kaiseki")) window.location.href = "livraison.html";
            else window.location.reload();
        }

        function deconnexion() { localStorage.removeItem('userName'); window.location.reload(); }
        
        function accesSecurise() {
            const code = prompt("Code Administration :");
            if (code && code.toLowerCase() === "administration") window.location.href = "admin.html";
            else if (code) alert("PAR LE TONNERRE DE ZEUS, ACCÈS REFUSÉ !");
        }

        // --- SYSTEME D'AVIS (STARS & ZEUS) ---
        function initStars() {
            const container = document.querySelector('.rating-stars');
            if(!container) return;
            container.innerHTML = `<span data-v="1">☆</span><span data-v="2">☆</span><span data-v="3">☆</span><span data-v="4">☆</span><span data-v="5">☆</span>`;
            const stars = container.querySelectorAll('span');
            stars.forEach((s, i) => {
                s.onclick = () => { selectedRating = i + 1; updateStars(stars, selectedRating); };
                s.onmouseover = () => updateStars(stars, i + 1);
                s.onmouseout = () => updateStars(stars, selectedRating);
            });
        }
        function updateStars(stars, count) {
            stars.forEach((s, i) => {
                s.innerHTML = i < count ? '★' : '☆';
                s.style.color = i < count ? "var(--gold)" : "rgba(255,255,255,0.3)";
            });
        }
        function publierAvis() {
            if (selectedRating === 0) return alert("Veuillez noter l'expérience.");
            if (selectedRating <= 2) {
                warningCount++;
                if (warningCount === 1) alert("Attention mon petit, attention à ce que tu fais.");
                else if (warningCount === 2) alert("Ceci sera ma première et dernière sommation...");
                else {
                    document.body.style.filter = "contrast(200%) brightness(50%) blur(5px)";
                    setTimeout(() => {
                        alert("PAR LE TONNERRE DE ZEUS, JE VAIS TE DÉSAGRÉGER !");
                        document.body.innerHTML = `<div style="background:black; color:red; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; font-family:monospace; text-align:center;"><h1>SYSTEM_DESTROYED</h1><p>PC HORS SERVICE - REBOOT IMPOSSIBLE</p></div>`;
                    }, 800);
                }
            } else alert("Merci pour votre retour précieux.");
        }

        // --- GALERIE PHOTO ---
        function changeImage(direction) {
            const resto = document.getElementById("restaurant");
            const photo = document.getElementById("main-photo");
            if (!resto.classList.contains("gallery-active")) { openGallery(); return; }
            currentImg += direction;
            if (currentImg > 6) currentImg = 1;
            if (currentImg < 1) currentImg = 6;
            photo.src = `img/resto-${currentImg}.png`;
        }
        function openGallery() {
            const s = document.getElementById("restaurant"); s.scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => {
                s.classList.add("gallery-active");
                document.body.classList.add("no-scroll");
                document.querySelector("header").style.opacity = "0";
            }, 600);
        }
        function closeGallery() {
            document.getElementById("restaurant").classList.remove("gallery-active");
            document.body.classList.remove("no-scroll");
            document.querySelector("header").style.opacity = "1";
        }
    </script>
</body>
</html>